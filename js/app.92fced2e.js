(function(e){function t(t){for(var n,o,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var r=i[o];0!==a[r]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},o={app:0},a={app:0},s=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-271c":"61667c1c","chunk-c068":"6295f522"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i={"chunk-271c":1,"chunk-c068":1};o[e]?t.push(o[e]):0!==o[e]&&i[e]&&t.push(o[e]=new Promise(function(t,i){for(var n="css/"+({}[e]||e)+"."+{"chunk-271c":"1cbd7138","chunk-c068":"ae492fde"}[e]+".css",o=l.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],c=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(c===n||c===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){r=u[s],c=r.getAttribute("data-href");if(c===n||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.request=n,i(a)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){o[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,i){n=a[e]=[t,i]});t.push(n[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e);var p=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var i=a[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,i[1](p)}a[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=u;s.push([1,"chunk-vendors"]),i()})({0:function(e,t){},"034f":function(e,t,i){"use strict";var n=i("04f5"),o=i.n(n);o.a},"04f5":function(e,t,i){},"0e9c":function(e,t,i){"use strict";var n=i("dfee"),o=i.n(n);o.a},1:function(e,t,i){e.exports=i("56d7")},"14ca":function(e,t,i){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},"1f45":function(e,t,i){"use strict";var n=i("14ca"),o=i.n(n);o.a},20:function(e,t){},21:function(e,t){},22:function(e,t){},2352:function(e,t,i){"use strict";var n=i("c1a1"),o=i.n(n);o.a},"3bfb":function(e,t,i){"use strict";var n=i("71d5"),o=i.n(n);o.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("b059"),i("619b3"),i("6e25"),i("a347");var n,o,a,s,r,l,c=i("2b0e"),u=i("283e"),p=i.n(u),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("main",[i("nav",[i("span",[e._v(" ")]),i("router-link",{class:{active:e.$route.name&&e.$route.name.match("megaregion")},attrs:{to:"/megaregion/introduction"},nativeOn:{click:function(t){e.routeClick("/megaregion/introduction")}}}),i("router-link",{class:{active:e.$route.name&&e.$route.name.match("walkaboutit")},attrs:{to:"/walkaboutit/sites"},nativeOn:{click:function(t){e.routeClick("/walkaboutit/sites")}}},[e._v("Walk About It")]),i("router-link",{class:{active:e.$route.name&&e.$route.name.match("bioregion")},attrs:{to:"/bioregion/introduction"},nativeOn:{click:function(t){e.routeClick("/bioregion/introduction")}}}),i("span",[e._v(" ")]),i("div",{attrs:{id:"aside-scroll-to",title:"Skip To Content"},on:{click:e.scrollToAside}},[i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")])])],1),i("router-view",{attrs:{name:"map",id:"map"}})],1),i("AppNav"),i("aside",{class:{"no-flex":this.asideHidden}},[i("div",{attrs:{id:"aside-wraper"}},[i("div",{attrs:{id:"aside-toggle",title:"Toggle Content"},on:{click:e.toggleAside}},[e.asideHidden?i("i",{staticClass:"material-icons"},[e._v("menu")]):i("i",{staticClass:"material-icons"},[e._v("close")])]),i("p",{class:{hidden:this.asideHidden},attrs:{id:"aside-heading"}})]),i("div",{ref:"asideContent",class:{hidden:this.asideHidden},attrs:{id:"content"}},[i("router-view")],1)])],1)},m=[],h=i("c93e"),f=i("2f62"),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.asideHidden?e._e():i("div",[e.nav.items?i("div",{attrs:{id:"items"}},e._l(e.nav.items,function(t){return i("router-link",{key:t.name,staticClass:"btn",attrs:{to:t.href},nativeOn:{click:function(i){e.routeClick(t.href)}}},[e._v(e._s(t.name))])})):e._e(),e.navSubItems?i("div",{attrs:{id:"subItems"}},e._l(e.navSubItems,function(t){return i("router-link",{key:t.name,staticClass:"btn subItem",attrs:{to:t.href},nativeOn:{click:function(i){e.routeClick(t.href)}}},[e._v(e._s(t.name))])})):e._e()])},v=[],w=(i("7f7f"),{name:"AppNav",data:function(){return{nav:[],navSubItems:[],walkaboutit:{items:[{name:"",href:"/walkaboutit/sites"}]},megaregion:{items:[{name:"",href:"/megaregion/introduction"}]},bioregion:{items:[{name:"",href:"/bioregion/introduction"}]},subItems:{vanport:[{name:"",href:"/megaregion/vanport/mosaic"}]}}},computed:Object(h["a"])({},Object(f["b"])(["asideHidden"])),watch:{$route:function(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/walkaboutit/.test(this.$route.name)?this.nav=this.walkaboutit:/megaregion/.test(this.$route.name)?this.nav=this.megaregion:/bioregion/.test(this.$route.name)?this.nav=this.bioregion:this.nav=[],/watershedDams/.test(this.$route.name)?this.navSubItems=this.subItems.dams:this.navSubItems=[]},routeClick:function(e){e===this.$route.path&&qe.$emit("route-click")}}}),b=w,y=(i("808a"),i("2877")),x=Object(y["a"])(b,g,v,!1,null,"1d2acb16",null),k=x.exports,P={name:"App",components:{AppNav:k},watch:{$route:function(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:Object(h["a"])({},Object(f["b"])(["asideHidden"])),methods:{toggleAside:function(){this.$store.dispatch("toggle")},scrollToAside:function(){this.$refs.asideContent.scrollIntoView()},routeClick:function(e){e===this.$route.path&&qe.$emit("route-click")}}},C=P,M=(i("034f"),Object(y["a"])(C,d,m,!1,null,null,null)),L=M.exports,_=i("8c4f"),T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aside-content"},[e._m(0),i("img",{staticClass:"fullwidth",attrs:{src:"images/CarbonBuilding.jpg"}}),i("div",{staticClass:"caption"},[e._v("typical building downtown")]),e._m(1),i("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")]),i("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")]),i("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")]),i("br"),i("Accordion",{attrs:{open:!1}},[i("h3",{attrs:{slot:"header"},slot:"header"},[e._v("sources of this map")]),i("div",{staticClass:"flex"},[i("p")])]),i("Accordion",{attrs:{open:!1}},[i("h3",{attrs:{slot:"header"},slot:"header"},[e._v("Who/What/Why Deep Time?")]),i("div",{staticClass:"flex"},[i("p",[i("strong"),e._v(": title")])])])],1)},$=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[i("h1",[e._v("In the Presence of Time")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("strong")])}],O=i("e711"),S=i("d54e"),j={name:"WalkAboutItSites",components:{Accordion:S["a"],AppLightBox:O["a"]},methods:{emit:function(e,t){qe.$emit(e,t)}}},R=j,A=(i("0e9c"),Object(y["a"])(R,T,$,!1,null,"e4d490b0",null)),E=A.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"map",attrs:{id:"map"}},[i("div",{ref:"vimeoPopup",staticClass:"ol-popup ol-vimeopopup"},[i("div",{ref:"vimeoPopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),i("div",{ref:"vimeoPopupContent",staticClass:"ol-popup-content"})]),i("div",{ref:"twitterPopup",staticClass:"ol-popup ol-twitterpopup"},[i("div",{ref:"twitterpopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),i("div",{staticClass:"ol-popup-twitter-content"},[i("div",{ref:"loadingTweets",staticClass:"twitter-loading hidden"},[e._v("Loading Tweets...")]),i("div",{ref:"twitterContent"})])]),i("div",{ref:"popup",staticClass:"ol-popup"},[i("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),i("div",{ref:"popupContent",staticClass:"ol-popup-content"})]),i("div",{ref:"titletip",staticClass:"titletip"},[i("div",{ref:"titletipContent",staticClass:"titletip-content"})]),i("div",{ref:"textitletip",staticClass:"textitletip"},[i("div",{ref:"textitletipContent",staticClass:"textitletip-content"})]),i("div",{ref:"mileagetitletip",staticClass:"mileagetitletip"},[i("div",{ref:"mileagetitletipContent",staticClass:"mileagetitletip-content"})]),i("div",{ref:"whitetitletip",staticClass:"whitetitletip"},[i("div",{ref:"whitetitletipContent",staticClass:"whitetitletip-content"})]),i("div",{ref:"salmontip",staticClass:"salmontip"},[i("div",{ref:"salmontipContent",staticClass:"salmontip-content"})]),i("div",{ref:"tooltip",staticClass:"ol-tooltip"})])},I=[],B=(i("a481"),i("5bc0"),i("0710")),W=i("5eee"),V=i("a2c7"),N=i("3e6b"),q=i("5831"),z=i("a2e1"),G=i("6c77"),D=i("6cbf"),Z=i("8682"),J=i("83a6"),F=i("8f3a"),U=i("9d47"),Y=i("256f"),K={name:"Map",data:function(){return{olmap:void 0,styleCache:{}}},created:function(){qe.$on("set-map-view",this.setMapView)},beforeDestroy:function(){qe.$off("set-map-view",this.setMapView)},computed:Object(h["a"])({},Object(f["b"])(["asideHidden"]),{vimeoPopup:function(){return new B["a"]({element:this.$refs.vimeoPopup,offset:[10,0],positioning:"center-right",autoPan:!0,autoPanAnimation:{duration:250}})},twitterPopup:function(){return new B["a"]({element:this.$refs.twitterPopup,autoPan:!0,autoPanAnimation:{duration:250},positioning:"center-right"})},popup:function(){return new B["a"]({element:this.$refs.popup,autoPan:!0,autoPanAnimation:{duration:250}})},titletip:function(){return new B["a"]({element:this.$refs.titletip,offset:[10,0],positioning:"center-left"})},textitletip:function(){return new B["a"]({element:this.$refs.textitletip,offset:[10,0],positioning:"center-left"})},whitetitletip:function(){return new B["a"]({element:this.$refs.whitetitletip,offset:[10,0],positioning:"center-left"})},mileagetitletip:function(){return new B["a"]({element:this.$refs.mileagetitletip})},salmontip:function(){return new B["a"]({element:this.$refs.salmontip,offset:[10,0],positioning:"center"})},tooltip:function(){return new B["a"]({element:this.$refs.tooltip,offset:[10,0],positioning:"center-left"})}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize(),this.toggleScaleLine()}},methods:{initMap:function(){},initBaseMap:function(){var e=this;this.olmap||(this.olmap=new W["a"]({target:"map",overlays:[this.twitterPopup,this.popup,this.titletip,this.textitletip,this.mileagetitletip,this.whitetitletip,this.salmontip,this.tooltip,this.vimeoPopup],controls:Object(F["a"])({attributionOptions:{collapsible:!0}}).extend([new U["a"]({units:"us",minWidth:150})])}),this.toggleScaleLine(),this.olmap.on("singleclick",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();n.title&&n.image&&n.text1?(e.$refs.popupContent.innerHTML="<h4>"+n.title+"</h4>",e.$refs.popupContent.innerHTML+=n.image?n.image.replace("cascadia/",""):"",e.$refs.popupContent.innerHTML+=n.text1+"<br>",e.$refs.popupContent.innerHTML+=n.text2?n.text2+"<br>":"",e.$refs.popupContent.innerHTML+=n.text3?n.text3+"<br>":"",e.popup.setPosition(t.coordinate),e.closeTooltip()):n.key2?(e.$refs.popupContent.innerHTML=n.key2.replace("cascadia/",""),e.$refs.popupContent.innerHTML+=n.date?"<p>".concat(n.date,"</p>"):"",e.popup.setPosition(t.coordinate)):n.title?(e.$refs.popupContent.innerHTML=n.title,e.popup.setPosition(t.coordinate)):n.key?(e.$refs.popupContent.innerHTML=n.key,e.popup.setPosition(t.coordinate)):n.timeline?window.twttr&&(e.$refs.loadingTweets.classList.remove("hidden"),e.$refs.twitterContent.innerHTML="",window.twttr.widgets.createTimeline({sourceType:"url",url:n.timeline},e.$refs.twitterContent).then(function(){e.$refs.loadingTweets.classList.add("hidden")}),e.twitterPopup.setPosition(t.coordinate)):n.vimeoSrc}else e.closePopup()}),window.addEventListener("keydown",function(t){27===t.keyCode&&e.closePopup()}),window.addEventListener("resize",function(t){e.toggleScaleLine()}),this.olmap.on("pointermove",function(t){var i=e.olmap.getEventPixel(t.originalEvent),n=e.olmap.hasFeatureAtPixel(i);e.$refs.map.style.cursor=n?"pointer":""}))},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),this.twitterPopup.setPosition(void 0),this.$refs.twitterpopupCloser.blur(),this.vimeoPopup.setPosition(void 0),this.$refs.vimeoPopupCloser.blur(),this.$refs.vimeoPopupContent.innerHTML="",!1},closeTitletip:function(){return this.titletip.setPosition(void 0),!1},closeTextitletip:function(){return this.textitletip.setPosition(void 0),!1},closeMileagetitletip:function(){return this.mileagetitletip.setPosition(void 0),!1},closeWhitetitletip:function(){return this.whitetitletip.setPosition(void 0),!1},closeSalmontip:function(){return this.salmontip.setPosition(void 0),!1},closeTooltip:function(){return this.tooltip.setPosition(void 0),!1},geoJSONPointVectorLayerStyle:function(e){return e.values_&&e.values_["icon"]&&!this.styleCache[e.values_["icon"]]&&(this.styleCache[e.values_["icon"]]=new G["b"]({image:new D["a"]({src:e.values_["icon"]||"icons/dam.png"})})),this.styleCache[e.values_["icon"]]},makeGeoJSONPointVectorLayerWithStyle:function(e,t,i,n,o){return new N["a"]({source:new q["a"]({url:e,format:new z["a"]}),minResolution:i,maxResolution:n,style:this.geoJSONPointVectorLayerStyle,label:t})},makeGeoJSONPointVectorLayer:function(e,t,i,n,o,a){return new N["a"]({source:new q["a"]({url:e,format:new z["a"]}),minResolution:n,maxResolution:o,style:new G["b"]({image:new D["a"]({src:t,opacity:void 0===a?1:a})}),label:i})},makeGeoJSONFillVectorLayer:function(e,t,i,n,o,a){return new N["a"]({source:new q["a"]({format:new z["a"],url:e}),minResolution:t,maxResolution:i,style:new G["b"]({stroke:new Z["a"]({color:n,width:o}),fill:new J["a"]({color:a})}),fill:a,fillColor:a})},makeGeoJSONLineVectorLayer:function(e,t,i,n,o){return new N["a"]({source:new q["a"]({format:new z["a"],url:e}),minResolution:t,maxResolution:i,style:new G["b"]({stroke:new Z["a"]({color:n,width:o})}),strokeColor:n})},toggleScaleLine:function(){this.asideHidden||window.innerWidth<850?document.querySelector(".ol-scale-line").classList.remove("hidden"):document.querySelector(".ol-scale-line").classList.add("hidden")},setMapView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.center&&(t["center"]=Object(Y["c"])(e["center"])),e.resolution&&(t["resolution"]=e.resolution),e.minResolution?t["minResolution"]=e.minResolution:t["minResolution"]=1,e.maxResolution?t["maxResolution"]=e.maxResolution:t["maxResolution"]=16e3,this.olmap.setView(new V["a"](t))}}},Q=K,X=Object(y["a"])(Q,H,I,!1,null,null,null),ee=X.exports,te=i("480c"),ie=i("9c78"),ne=i("2ef1"),oe=i("ca42"),ae=i("8295"),se=i("35a7"),re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[e._v(" On Testing...")]),i("gallery",{attrs:{images:e.images,index:e.index,options:{youTubeVideoIdProperty:"youtube",youTubePlayerVars:void 0,youTubeClickToPlay:!0}},on:{close:function(t){e.index=null}}}),e._l(e.images,function(t,n){return i("div",{key:n,staticClass:"image",style:{backgroundImage:"url("+t+")",width:"300px",height:"200px"},on:{click:function(t){e.index=n}}})})],2)},le=[],ce=i("067c"),ue=i.n(ce),pe={data:function(){return{images:[{title:"A YouYube video",href:"https://www.youtube.com/watch?v=hNdlUHBJDKs",type:"text/html",youtube:"hNdlUHBJDKs",poster:"https://img.youtube.com/vi/hNdlUHBJDKs/maxresdefault.jpg"}],index:null}},components:{gallery:ue.a}},de=pe,me=(i("3bfb"),Object(y["a"])(de,re,le,!1,null,"15db4dff",null)),he=me.exports,fe=(i("3b2b"),i("c665")),ge=i("aa9a"),ve=(i("fd4b"),function(){function e(t){Object(fe["a"])(this,e),this.url=t,this.root=document.querySelector("body")}return Object(ge["a"])(e,[{key:"open",value:function(){this.render(this.url),this.events()}},{key:"render",value:function(e){var t=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span id="mediabox-esc" class="mediabox-close" aria-label="close" tabindex="1"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e});this.lastFocusElement=document.activeElement,this.root.insertAdjacentHTML("beforeend",t),document.body.classList.add("stop-scroll")}},{key:"events",value:function(){var e=document.querySelector(".mediabox-wrap"),t=document.querySelector(".mediabox-content");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className||"mediabox-content"===t.target.className&&"IFRAME"!==t.target.nodeName)&&this.close(e)}.bind(this),!1),document.addEventListener("focus",function(e){t&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())},!0),t.addEventListener("keypress",function(t){13===t.keyCode&&this.close(e)}.bind(this),!1)}},{key:"close",value:function(e){if(null===e)return!0;var t=null;t&&clearTimeout(t),e.classList.add("mediabox-hide"),t=setTimeout(function(){var e=document.querySelector(".mediabox-wrap");null!==e&&(document.body.classList.remove("stop-scroll"),this.root.removeChild(e),this.lastFocusElement.focus())}.bind(this),500)}},{key:"template",value:function(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{"+i+"}","g"),t[i]));return e}}]),e}()),we={name:"MapWaWalkAboutIt",extends:ee,data:function(){return{centerPoints:{sites:{center:[-87.6,41.85],resolution:140}}}},computed:{sitesLayers:function(){return[new te["a"]({source:new ne["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25}),new te["a"]({preload:1/0,source:new ne["a"]({url:"http://deeptimechicago.org/Walkaboutit/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25}),this.makeGeoJSONPointVectorLayer("geojson/Walks.geojson","icons/Marker.png",null,4,1e3)]}},components:{VideoLightBox:he},created:function(){qe.$on("route-click",this.initMap)},beforeDestroy:function(){qe.$off("route-click",this.initMap)},mounted:function(){this.initMap()},methods:{initMap:function(){var e=this;switch(this.$route.name){case"walkaboutitSites":this.initwalkaboutitSites();break;default:this.initWalkAboutItSites()}this.olmap.on("pointermove",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();n.key&&(e.$refs.titletipContent.innerHTML=n.key,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip()})},initWalkAboutItSites:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.sitesLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.sites.center),resolution:this.centerPoints.sites.resolution,minResolution:.25,maxResolution:32e3})),this.olmap&&this.olmap.on("singleclick",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();if(n.vimeoSrc){var o=new ve(n.vimeoSrc);o.open()}}})},flash:function(e){var t=this,i=e.values_["key2"]||"",n=e.values_["date"]||"",o=e.values_["icon"]||"",a=(new Date).getTime(),s=this.olmap.on("postcompose",function(r){var l=2500,c=r.frameState.time-a,u=c/l,p=Object(oe["b"])(1-u);e.setStyle([new G["b"]({text:new ae["a"]({text:i,fill:new J["a"]({color:[255,255,255,p]}),stroke:new Z["a"]({color:[0,0,0,p]}),backgroundFill:new Z["a"]({color:[0,0,0,p/6]}),scale:1.9,offsetY:-7})}),new G["b"]({text:new ae["a"]({text:n,fill:new J["a"]({color:[255,255,255,p]}),stroke:new Z["a"]({color:[0,0,0,p]}),backgroundFill:new Z["a"]({color:[0,0,0,p/3]}),scale:2,offsetY:20})}),new G["b"]({image:new D["a"]({src:o,opacity:1})})]),c>l?Object(se["b"])(s):t.olmap.render()});this.listenerKeys.push(s)}}},be=we,ye=Object(y["a"])(be,n,o,!1,null,null,null),xe=ye.exports,ke=i("a226"),Pe={name:"MapMegaregion",extends:ee,data:function(){return{centerPoints:{introductionmetro:{center:[-122.4,45.564222],resolution:200}},radius:300,mousePosition:void 0}},computed:{baseLayers:function(){var e=this,t=new te["a"]({source:new ke["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),[new te["a"]({preload:1/0,source:new ne["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"}),minResolution:800,maxZoom:21}),new te["a"]({preload:1/0,source:new ne["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:40,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new te["a"]({preload:1/0,source:new ne["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minResolution:20,maxResolution:799,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new te["a"]({source:new ne["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/Coastlines/default/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png"}),minResolution:200,maxZoom:21}),new te["a"]({preload:1/0,source:new ne["a"]({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:1600}),new te["a"]({title:"OpenRailwayMap",visible:!0,minResolution:40,opacity:1,source:new ne["a"]({url:"https://{a-c}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:21,opaque:!1,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})}),new te["a"]({minResolution:20,opacity:1,source:new ne["a"]({tileUrlFunction:function(t,i,n){var o=t[0],a=t[1],s=-t[2]-1;return"https://t0.tiles.virtualearth.net/tiles/t"+e.computeQuadKey(a,s,o)+".jpg"}}),maxZoom:17,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new N["a"]({source:new q["a"]({format:new z["a"],url:"geojson/USmegaregions2.geojson"}),minResolution:1600,maxResolution:8e3,style:new G["b"]({stroke:new Z["a"]({width:.5,color:"rgba(255, 255, 255, 0.8)"}),fill:new J["a"]({color:"rgba(255, 255, 255, 0.3)"})})}),t]}},components:{VideoLightBox:he},created:function(){qe.$on("route-click",this.initMap)},beforeDestroy:function(){qe.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),window.addEventListener("keydown",function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())}),this.olmap.on("pointermove",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();n.CropGroup&&n.key?(e.$refs.titletipContent.innerHTML=n.key,e.titletip.setPosition(t.coordinate)):n.title&&n.image?(e.$refs.tooltip.innerHTML=n.image.replace("cascadia/",""),e.$refs.tooltip.innerHTML+="<div>"+n.title+"</div>",e.tooltip.setPosition(t.coordinate)):n.key3?(e.$refs.textitletipContent.innerHTML=n.key3,e.textitletip.setPosition(t.coordinate)):n.key6?(e.$refs.whitetitletipContent.innerHTML=n.key6,e.whitetitletip.setPosition(t.coordinate)):n.key5&&(e.$refs.titletipContent.innerHTML=n.key5,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip(),e.closeTextitletip(),e.closeWhitetitletip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()})},methods:{initMap:function(){switch(this.$route.name){case"megaregionIntroduction":this.initMegaregionIntroduction();break;case"megaregionVanport":this.initMegaregionVanport();break;case"megaregionVanportMosaic":this.initMegaregionVanportMosaic();break;case"megaregionWillamette":this.initMegaregionWillamette();break;case"megaregionWillametteDrone":this.initMegaregionWillametteDrone();break;case"megaregionWillametteSlough":this.initMegaregionWillametteSlough();break;case"megaregionEnergy":this.initMegaregionEnergy();break;case"megaregionCrops":this.initMegaregionCrops();break;case"megaregionCropsBasinProject":this.initmegaregionCropsBasinProject();break;default:}},initMegaregionIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.baseLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.introductionmetro.center),resolution:this.centerPoints.introductionmetro.resolution,minResolution:1,maxResolution:32e3}))},initMegaregionVanport:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.vanportLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.vanport.center),resolution:this.centerPoints.vanport.resolution,minZoom:11,maxZoom:19,rotation:-.41}))},initMegaregionVanportMosaic:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.mosaicLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.vanport.center),resolution:this.centerPoints.vanport.resolution,minZoom:11,maxZoom:19,rotation:-.41})),this.olmap&&this.olmap.on("singleclick",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();if(n.vimeoSrc){var o=new ve(n.vimeoSrc);o.open()}}})},initMegaregionWillamette:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.willametteLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.willamette.center),resolution:this.centerPoints.willamette.resolution,minZoom:9,maxZoom:20}))},initMegaregionWillametteDrone:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.droneLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.willamette.center),resolution:this.centerPoints.willamette.resolution,minZoom:11,maxZoom:19})),this.olmap&&this.olmap.on("singleclick",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();if(n.vimeoSrc){var o=new ve(n.vimeoSrc);o.open()}}})},initMegaregionWillametteSlough:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.sloughLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.slough.center),resolution:this.centerPoints.slough.resolution,minZoom:11,maxZoom:19}))},initMegaregionEnergy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.energyLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.energy.center),resolution:this.centerPoints.energy.resolution,minResolution:1,maxResolution:4e3}))},initMegaregionCrops:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.cropsLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.crops.center),resolution:this.centerPoints.crops.resolution,minResolution:2,maxResolution:2e3}))},initmegaregionCropsBasinProject:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.basinProjectLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.basin.center),resolution:this.centerPoints.basin.resolution,minResolution:2,maxResolution:2e3}))},computeQuadKey:function(e,t,i){for(var n=[],o=i;o>0;o--){var a=0,s=1<<o-1;0!==(e&s)&&a++,0!==(t&s)&&(a+=2),n.push(a)}return n.join("")},spyglass:function(e){var t=e.context,i=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*i,this.mousePosition[1]*i,this.radius*i,0,2*Math.PI),t.lineWidth=5*i,t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.clip()}}},Ce=Pe,Me=(i("ec7a"),Object(y["a"])(Ce,a,s,!1,null,null,null)),Le=Me.exports,_e=i("8afe"),Te=i("bcc5"),$e=i.n(Te),Oe=i("595c"),Se=0,je={name:"MapBioregion",extends:ee,data:function(){return{centerPoints:{introductionbio:{center:[-125.8,51],resolution:4500}},bioregionDancingIsAnimating:!0,didSetSingleclickEvent:!1,listenerKeys:[],animTimeouts:[],radius:150,mousePosition:void 0,colors:[]}},computed:{baseLayers:function(){return[new te["a"]({source:new ne["a"]({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.9,minResolution:5}),new te["a"]({preload:1/0,source:new ne["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:5}),new te["a"]({source:new ne["a"]({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.7,minResolution:2,maxResolution:16})]},bioregionBaseLayers:function(){return Object(_e["a"])(this.baseLayers)},capsLayers:function(){return[new te["a"]({source:new ne["a"]({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.9,minResolution:10}),new te["a"]({preload:1/0,source:new ne["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new te["a"]({source:new ke["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),opacity:.2,minResolution:2,maxResolution:10}),new te["a"]({source:new ne["a"]({url:"https://api.mapbox.com/styles/v1/bkholmes/cjr6z7svt00n82rqm1y3igze4/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYmtob2xtZXMiLCJhIjoiNjlkYjI4MDUyYTRlZWEyYzkwYTdmOTgxNmMzOGYwMTUifQ.VSUo52PYOUzS60NR6jqXTw"}),opacity:1,minResolution:2,maxResolution:400}),new te["a"]({preload:1/0,source:new ne["a"]({url:"http://ecotopia.today/cascadia/Tiles/Mileage2/{z}/{x}/{y}.png"}),opacity:1,minResolution:12})]}},created:function(){qe.$on("route-click",this.initMap)},beforeDestroy:function(){qe.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),this.colors=Oe({colormap:"portland",nshades:32,format:"hex",alpha:1}),window.addEventListener("keydown",function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())}),this.olmap.on("pointermove",function(t){var i=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(i){var n=i.getProperties();n.CropGroup&&n.key?(e.$refs.titletipContent.innerHTML=n.key,e.titletip.setPosition(t.coordinate)):n.image&&n.icon?(e.$refs.whitetitletipContent.innerHTML=n.image,e.whitetitletip.setPosition(t.coordinate)):n.title&&n.image?(e.$refs.tooltip.innerHTML=n.image.replace("cascadia/",""),e.$refs.tooltip.innerHTML+="<div>"+n.title+"</div>",e.tooltip.setPosition(t.coordinate)):n.key4&&(e.$refs.textitletipContent.innerHTML=n.key4,e.textitletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip(),e.closeTextitletip(),e.closeWhitetitletip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()})},methods:{initMap:function(){switch(this.bioregionDancingIsAnimating=!0,this.$route.name){case"bioregionIntroduction":this.initBioregionIntro();break;default:this.initBioregionIntro()}},initBioregionIntro:function(){this.initBaseMap(),this.olmap.setLayerGroup(new ie["a"]({layers:this.bioregionBaseLayers})),this.olmap.setView(new V["a"]({center:Object(Y["c"])(this.centerPoints.introductionbio.center),resolution:this.centerPoints.introductionbio.resolution,minResolution:8,maxResolution:8e3}))},spyglass:function(e){var t=e.context,i=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*i,this.mousePosition[1]*i,this.radius*i,0,2*Math.PI),t.lineWidth=2*i,t.strokeStyle="rgba(0,0,0,0.4)",t.stroke()),t.clip()},flash:function(e){var t=this,i=e.values_["title"]||"",n=e.values_["date"]||"",o=e.values_["route"]||"",a=e.values_["purpose"]||"",s=(new Date).getTime();Se=(Se+1)%32;var r=Se;this.olmap.on("postcompose",function(l){var c=1800,u=l.frameState.time-s,p=u/c;Object(oe["b"])(1.2-p);$e()("div.mapInfo-section1").text(i),$e()("div.mapInfo-section2").text(n),$e()("div.mapInfo-section3").text(o),$e()("div.mapInfo-section4").text(a),e.setStyle([new G["b"]({stroke:new Z["a"]({color:t.colors[r],width:3.8})})])})}}},Re=je,Ae=Object(y["a"])(Re,r,l,!1,null,null,null),Ee=Ae.exports;c["a"].use(_["a"]);var He=new _["a"]({routes:[{path:"/",redirect:"/walkaboutit/sites"},{path:"/walkaboutit/sites",name:"WalkAboutItSites",components:{default:E,map:xe}},{path:"/megaregion/introduction",name:"megaregionIntroduction",components:{default:function(){return i.e("chunk-271c").then(i.bind(null,"5e0b"))},map:Le}},{path:"/bioregion/introduction",name:"bioregion",components:{default:function(){return i.e("chunk-c068").then(i.bind(null,"94ef"))},map:Ee}}]});c["a"].use(f["a"]);var Ie={asideHidden:!1},Be={toggle:function(e){e.asideHidden=!e.asideHidden}},We={toggle:function(e){e.commit("toggle")}},Ve={asideHidden:function(e){return e.asideHidden}},Ne=new f["a"].Store({state:Ie,getters:Ve,actions:We,mutations:Be});i.d(t,"eventBus",function(){return qe}),c["a"].use(p.a),c["a"].config.productionTip=!1;var qe=new c["a"];new c["a"]({router:He,store:Ne,render:function(e){return e(L)}}).$mount("#app")},"71d5":function(e,t,i){},"808a":function(e,t,i){"use strict";var n=i("f73a"),o=i.n(n);o.a},a347:function(e,t,i){},b059:function(e,t,i){},c0e8:function(e,t,i){},c1a1:function(e,t,i){},d54e:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{ref:"accordion",class:e.accordionClasses},[i("div",{staticClass:"heading",on:{click:e.toggleAccordion}},[e.isOpen?i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_up")]):i("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")]),i("span",{staticClass:"headingText"},[e._t("header")],2)]),i("div",{staticClass:"body"},[i("div",{staticClass:"content"},[e._t("default")],2)])])},o=[],a={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){var e=this;this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout(function(){e.$refs.accordion.scrollIntoView()},500)}}},s=a,r=(i("1f45"),i("2877")),l=Object(r["a"])(s,n,o,!1,null,"cfaf1244",null);t["a"]=l.exports},dfee:function(e,t,i){},e711:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"link",on:{click:e.open}},[e._t("default")],2),e.isOpen?i("LightBox",{attrs:{images:e.images,showCaption:!0},on:{onOpened:e.onOpenChange}}):e._e()],1)},o=[],a=i("1c09"),s=i.n(a),r={name:"AppLightBox",components:{LightBox:s.a},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},l=r,c=(i("2352"),i("2877")),u=Object(c["a"])(l,n,o,!1,null,"5cc4adc2",null);t["a"]=u.exports},ec7a:function(e,t,i){"use strict";var n=i("c0e8"),o=i.n(n);o.a},f73a:function(e,t,i){},fd4b:function(e,t,i){}});